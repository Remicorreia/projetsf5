{% extends 'base.html.twig' %}

{% block title %}Panier{% endblock %}

{% block body %}

<div class="example-wrapper">
{% block h1 %}Mon Panier{% endblock %}


    {# {{dump(panier)}} #}

    <table>
        <thead>
            <tr>
                <th>Titre</th>
                <th>Prix</th>
                <th>Qt√©</th>
                <th>Total</th>
            </tr>
        </thead>
        <tbody>
            
        {% set total = 0 %}
        
    {% for lign in panier %}
            <tr>
                <td>{{ lign.produit.titre }}</td>
                <td>{{ lign.produit.prix }}</td>
                <td>{{ lign.quantite }}</td>
                <td>{{ lign.quantite * lign.produit.prix }}</td>
            </tr>
    {% set total = total %}

    {% else %}
            <tr>
                <td colspan="4"> Le panier est vide ... pour l'instant</td>
            </tr>
    {% endfor %}
        <tfoot class="thead-dark">
            <tr>
                <th colspan="3">Total</th>
                <td>{{ total }}</td>
            </tr>
        </tfoot>
    </tbody>
</table>
</div>
{% endblock %}
